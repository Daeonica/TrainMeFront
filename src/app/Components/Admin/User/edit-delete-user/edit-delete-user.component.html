<div class="px-4 mx-auto h-full max-w-screen-2xl border-t flex justify-center sm:px-6 py-2 lg:px-8" *ngIf="user != null">

  <div class="w-full">
    <div class="flex justify-center">
      <h1 class="uppercase font-bold my-5 text-3xl">Edit user</h1>
    </div>
    <div class="flex justify-center">
      <form [formGroup]="updateForm" class="space-y-4 h-fit shadow-lg border p-5 rounded-sm md:space-y-6 max-w-lg w-full"
        action="#">
        <div *ngIf="user != null">
          <img src="{{url}}user/image/{{user.id}}" alt="">
        </div>
        <div *ngIf='alert == "green"' class="py-1 px-2 bg-green-200 flex justify-between" role="alert">
          <div *ngFor="let message of messages">{{message}}</div>
          <button type="button" class="font-bold" data-bs-dismiss="alert" aria-label="Close"
            (click)="closeAlert()">x</button>
        </div>
        <div *ngIf='alert == "red"' class="py-1 px-2 bg-red-200 flex justify-between" role="alert">
          <div *ngFor="let message of messages">{{message}}</div>
          <button type="button" class="font-bold" data-bs-dismiss="alert" aria-label="Close"
            (click)="closeAlert()">x</button>
        </div>
        <div *ngIf="!loading">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Name</label>
              <input type="text" formControlName="name" name="name" id="name"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="John" required="">
              <div class="text-red-400 text-sm font-thin"
                *ngIf="updateForm.get('name').touched && updateForm.get('name').hasError('required')">
                <div *ngIf="updateForm.get('name').hasError('required')">
                  Name is required.
                </div>
              </div>
            </div>
            <div>
              <label for="lastname" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Surname</label>
              <input type="text" name="lastname" id="lastname" formControlName="surname"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="Surname" required="">
              <div class="text-red-400 text-sm font-thin"
                *ngIf="updateForm.get('surname').touched && updateForm.get('surname').hasError('required')">
                <div *ngIf="updateForm.get('surname').hasError('required')">
                  Surname is required.
                </div>
              </div>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="role" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Role</label>
              <input type="text" value="{{user.role.name}}" name="role" id="role"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="Role" readonly>

            </div>
            <div>
              <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label>
              <input type="email" formControlName="email" name="email" id="email"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                placeholder="United States" required="">
              <div class="text-red-400 text-sm font-thin"
                *ngIf="updateForm.get('email').touched && (updateForm.get('email').hasError('required') || updateForm.get('email').hasError('email'))">
                <div *ngIf="updateForm.get('email').hasError('required')">
                  Email is required.
                </div>
                <div *ngIf="updateForm.get('email').hasError('email')">
                  Email must be a valid email address.
                </div>
              </div>
            </div>
          </div>
          <div class="flex justify-between mt-3">
            <button [disabled]="updateForm.invalid"
              class=" px-2 py-1 font-bold text-white rounded bg-red-train-me hover:bg-red-700 text-lg" type="submit"
              (click)="onDelete()">
              Delete
            </button>
            <button [disabled]="updateForm.invalid"
              class=" px-2 py-1 font-bold text-white rounded bg-red-train-me hover:bg-red-700 text-lg" type="submit"
              (click)="onUpdate()">
              Update
            </button>

          </div>

        </div>
        <div
          class="flex justify-center gap-10 px-2 py-3 overflow-auto rounded-sm md:grid-cols-2 bg-gray1-train-me justify-items-center max-h-96"
          *ngIf="loading">
          <mat-progress-spinner color="primary" mode="indeterminate"></mat-progress-spinner>
        </div>
      </form>
    </div>
  </div>

</div>